<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>X7ero | Home</title>
  <link rel="stylesheet" href="style/index.css" />
  <script src="https://kit.fontawesome.com/a2e0e6d58f.js" crossorigin="anonymous"></script>

  <!-- Locker script -->
  <script type="text/javascript">
      var CqGkz_IRd_NuxAZc = {"it":4560930,"key":"f848c"};
  </script>
  <script src="https://duw03nk63ml3f.cloudfront.net/24a72a7.js"></script>

  <style>
    /* === Loading overlay === */
    #loadingOverlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(15,23,42,0.85);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: #38bdf8;
      font-size: 24px;
    }

    #loadingOverlay .spinner {
      border: 6px solid rgba(255,255,255,0.3);
      border-top: 6px solid #38bdf8;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      margin-bottom: 15px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }

    /* === Professional Multi-Item Slider === */
    .slider-section {
      width: 90%;
      margin: 30px auto;
      position: relative;
    }

    .slider-container {
      overflow: hidden;
      border-radius: 16px;
      position: relative;
    }

    .slider-wrapper {
      display: flex;
      transition: transform 0.5s ease;
      gap: 20px;
      padding: 10px 0;
    }

    .slide-card {
      position: relative;
      flex: 0 0 calc(33.333% - 14px);
      height: 350px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .slide-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.4);
    }

    .slide-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Gradient overlay */
    .slide-gradient {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 70%;
      background: linear-gradient(to top, rgba(0,0,0,0.9), rgba(0,0,0,0.3), transparent);
      pointer-events: none;
    }

    /* Title & button */
    .slide-content {
      position: absolute;
      bottom: 25px;
      left: 25px;
      right: 25px;
      color: white;
      z-index: 2;
    }

    .slide-content h2 {
      margin: 0 0 15px 0;
      font-size: 22px;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    .slide-content button {
      background: linear-gradient(135deg, #2563eb, #3b82f6);
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      transition: all 0.3s;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
    }

    .slide-content button:hover {
      background: linear-gradient(135deg, #1d4ed8, #2563eb);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(37, 99, 235, 0.4);
    }

    /* Slider navigation */
    .slider-nav {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      z-index: 3;
      padding: 0 10px;
    }

    .slider-arrow {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border: none;
      color: white;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 18px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .slider-arrow:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    /* Mobile styles - single column with touch scroll */
    @media (max-width: 1024px) {
      .slider-wrapper {
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        padding-bottom: 20px;
        gap: 15px;
        scrollbar-width: none; /* Firefox */
      }
      
      .slider-wrapper::-webkit-scrollbar {
        display: none; /* Chrome, Safari, Edge */
      }
      
      .slide-card {
        flex: 0 0 85%;
        scroll-snap-align: start;
        height: 300px;
      }
      
      .slider-nav {
        display: none;
      }
      
      .slide-content {
        bottom: 20px;
        left: 20px;
        right: 20px;
      }
      
      .slide-content h2 {
        font-size: 20px;
      }
    }

    /* Desktop adjustments */
    @media (min-width: 1025px) {
      .slider-wrapper {
        overflow: hidden;
      }
    }

    /* Slider indicators for mobile */
    .slider-indicators {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-top: 15px;
    }

    .slider-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: all 0.3s;
    }

    .slider-indicator.active {
      background: #38bdf8;
      transform: scale(1.2);
    }

    /* Hide indicators on desktop */
    @media (min-width: 1025px) {
      .slider-indicators {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="navbar">
    <div class="logo">
      <span>X7ero</span>
    </div>

    <nav class="menu">
      <a href="views/games.html">Games</a>
      <div class="dropdown">
        <button class="dropbtn">Roblox <i class="fa-solid fa-angle-down"></i></button>
        <div class="dropdown-content">
          <a href="views/garden.html">Garden</a>
          <a href="views/robux.html">Robux</a>
        </div>
      </div>
      <a href="views/blog.html">Blog</a>
    </nav>

    <div class="theme-toggle">
      <i class="fa-regular fa-sun"></i>
    </div>
  </header>

  <!-- 🎞️ Professional Multi-Item Slider Section -->
  <section class="slider-section">
    <div class="slider-container">
      <div class="slider-wrapper" id="slider-wrapper">
        <!-- Slides will be dynamically added here -->
      </div>
      
      <!-- Navigation arrows (hidden on mobile) -->
      <!-- <div class="slider-nav">
        <button class="slider-arrow" id="prev-slide">
          <i class="fa-solid fa-chevron-left"></i>
        </button>
        <button class="slider-arrow" id="next-slide">
          <i class="fa-solid fa-chevron-right"></i>
        </button>
      </div> -->
    </div>
    
    <!-- Slider indicators (only visible on mobile) -->
    <div class="slider-indicators" id="slider-indicators">
      <!-- Indicators will be dynamically added here -->
    </div>
  </section>

  <!-- 🎮 Updated Games -->
  <section class="updated-games">
    <div class="games-header">
      <h2><i class="fa-solid fa-gamepad"></i> Updated Games</h2>
      <button class="view-all" onclick="location.href='views/games.html'">
        View All <i class="fa-solid fa-angle-right"></i>
      </button>
    </div>
    <div class="games-grid" id="games-container"></div>
  </section>

  <!-- 📱 Updated Apps -->
  <section class="updated-games">
    <div class="games-header">
      <h2><i class="fa-solid fa-mobile-screen"></i> Updated Apps</h2>
      <button class="view-all" onclick="location.href='views/apps.html'">
        View All <i class="fa-solid fa-angle-right"></i>
      </button>
    </div>
    <div class="games-grid" id="apps-container"></div>
  </section>

  <!-- ✅ Loading Overlay -->
  <div id="loadingOverlay">
    <div class="spinner"></div>
    Loading... Please wait
  </div>

  <!-- Script -->
  <script>
    // Roblox dropdown toggle
    const dropbtn = document.querySelector(".dropbtn");
    dropbtn.addEventListener("click", () => {
      document.querySelector(".dropdown").classList.toggle("active");
    });

    const loadingOverlay = document.getElementById("loadingOverlay");

    // Slider functionality
    let currentSlide = 0;
    let slideInterval;
    let isDesktop = window.innerWidth > 1024;

    function initSlider(slides) {
      const sliderWrapper = document.getElementById('slider-wrapper');
      const sliderIndicators = document.getElementById('slider-indicators');
      
      // Clear existing content
      sliderWrapper.innerHTML = '';
      sliderIndicators.innerHTML = '';
      
      // Create slides and indicators
      slides.forEach((slide, index) => {
        // Create slide
        const slideElement = document.createElement('div');
        slideElement.classList.add('slide-card');
        slideElement.innerHTML = `
          <img src="${slide.image}" alt="${slide.title}">
          <div class="slide-gradient"></div>
          <div class="slide-content">
            <h2>${slide.title}</h2>
            <button onclick="location.href='${slide.link}'">Read Article</button>
          </div>
        `;
        sliderWrapper.appendChild(slideElement);
        
        // Create indicator (only for mobile)
        if (!isDesktop) {
          const indicator = document.createElement('div');
          indicator.classList.add('slider-indicator');
          if (index === 0) indicator.classList.add('active');
          indicator.addEventListener('click', () => goToSlide(index));
          sliderIndicators.appendChild(indicator);
        }
      });
      
      // Set up navigation (only for desktop)
      if (isDesktop) {
        document.getElementById('prev-slide').addEventListener('click', prevSlide);
        document.getElementById('next-slide').addEventListener('click', nextSlide);
        
        // Start auto-slide
        startAutoSlide();
        
        // Pause on hover
        sliderWrapper.addEventListener('mouseenter', pauseAutoSlide);
        sliderWrapper.addEventListener('mouseleave', startAutoSlide);
      }
    }
    
    function goToSlide(index) {
      const sliderWrapper = document.getElementById('slider-wrapper');
      const indicators = document.querySelectorAll('.slider-indicator');
      
      currentSlide = index;
      
      if (isDesktop) {
        // For desktop, we show 3 slides at once, so we need to calculate the translation
        const slideWidth = 100 / 3; // Each slide takes 33.33% of the container
        sliderWrapper.style.transform = `translateX(-${currentSlide * slideWidth}%)`;
      } else {
        // For mobile, we use scroll behavior
        const slides = document.querySelectorAll('.slide-card');
        if (slides[currentSlide]) {
          slides[currentSlide].scrollIntoView({
            behavior: 'smooth',
            block: 'nearest',
            inline: 'start'
          });
        }
      }
      
      // Update active indicator (only for mobile)
      if (!isDesktop) {
        indicators.forEach((indicator, i) => {
          indicator.classList.toggle('active', i === currentSlide);
        });
      }
    }
    
    function nextSlide() {
      const slides = document.querySelectorAll('.slide-card');
      if (isDesktop) {
        // For desktop, we move by 3 slides at a time (one full set)
        const slidesPerView = 3;
        currentSlide = (currentSlide + slidesPerView) % slides.length;
      } else {
        // For mobile, we move by 1 slide
        currentSlide = (currentSlide + 1) % slides.length;
      }
      goToSlide(currentSlide);
    }
    
    function prevSlide() {
      const slides = document.querySelectorAll('.slide-card');
      if (isDesktop) {
        // For desktop, we move by 3 slides at a time (one full set)
        const slidesPerView = 3;
        currentSlide = (currentSlide - slidesPerView + slides.length) % slides.length;
      } else {
        // For mobile, we move by 1 slide
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
      }
      goToSlide(currentSlide);
    }
    
    function startAutoSlide() {
      if (isDesktop) {
        clearInterval(slideInterval);
        slideInterval = setInterval(nextSlide, 5000);
      }
    }
    
    function pauseAutoSlide() {
      clearInterval(slideInterval);
    }

    // Handle window resize
    window.addEventListener('resize', () => {
      const wasDesktop = isDesktop;
      isDesktop = window.innerWidth > 1024;
      
      // If the layout changed between desktop and mobile, reinitialize the slider
      if (wasDesktop !== isDesktop) {
        // We would need to reload the slides here, but for simplicity we'll just reset
        currentSlide = 0;
        goToSlide(0);
        
        // Show/hide navigation based on screen size
        const sliderNav = document.querySelector('.slider-nav');
        const sliderIndicators = document.getElementById('slider-indicators');
        
        if (isDesktop) {
          sliderNav.style.display = 'flex';
          sliderIndicators.style.display = 'none';
          startAutoSlide();
        } else {
          sliderNav.style.display = 'none';
          sliderIndicators.style.display = 'flex';
          pauseAutoSlide();
        }
      }
    });

    async function loadContent() {
      try {
        // Load slides
        const slideRes = await fetch("data/slide.json");
        const slides = await slideRes.json();
        initSlider(slides);

        // Load games and apps
        const response = await fetch("data/games.json");
        const data = await response.json();

        const gamesContainer = document.getElementById("games-container");
        const appsContainer = document.getElementById("apps-container");

        gamesContainer.innerHTML = "";
        appsContainer.innerHTML = "";

        // 🎮 Games
        const games = data.filter(item => item.type === "game").slice(0, 6);
        games.forEach(item => {
          const card = document.createElement("div");
          card.classList.add("game-card");
          card.innerHTML = `
            <div class="game-image">
              <img src="${item.image}" alt="${item.title}">
              <span class="tag">MOD</span>
            </div>
            <div class="game-info">
              <h3>${item.title}</h3>
              <p class="small-text">Size: ${item.size}</p>
              <p class="small-text">Version: ${item.version} <span class="mod-text">MOD</span></p>
              <small>📅 ${item.date}</small>
            </div>
            <span class="status updated">UPDATED</span>
          `;
          // ✅ Click event → show loading → locker
          card.addEventListener("click", () => {
            loadingOverlay.style.display = "flex";
            setTimeout(() => {
              loadingOverlay.style.display = "none";
              _VX(); // show locker
            }, 5000);
          });

          gamesContainer.appendChild(card);
        });

        // 📱 Apps
        const apps = data.filter(item => item.type === "app").slice(0, 6);
        apps.forEach(item => {
          const card = document.createElement("div");
          card.classList.add("game-card");
          card.innerHTML = `
            <div class="game-image">
              <img src="${item.image}" alt="${item.title}">
              <span class="tag">MOD</span>
            </div>
            <div class="game-info">
              <h3>${item.title}</h3>
              <p class="small-text">Size: ${item.size}</p>
              <p class="small-text">Version: ${item.version} <span class="mod-text">MOD</span></p>
              <small>📅 ${item.date}</small>
            </div>
            <span class="status updated">UPDATED</span>
          `;
          card.addEventListener("click", () => {
            loadingOverlay.style.display = "flex";
            setTimeout(() => {
              loadingOverlay.style.display = "none";
              _VX(); // show locker
            }, 5000);
          });

          appsContainer.appendChild(card);
        });

      } catch (error) {
        console.error("Error loading data:", error);
      }
    }

    loadContent();
  </script>
</body>
</html>